<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Processing Demo</title>
<script type="text/javascript" src="js/processing.js"></script>
</head>
<body>
<script type="text/processing">
// jack collins 6/5/2019
// v2
// i am not done 
ArrayList<Integer> x = new ArrayList<Integer> (), y = new ArrayList<Integer>();
int w = 30, h = 30, bs = 20, dir =2, applex = 12, appley = 10;
int[] dx = {0,0,1,-1}, dy = {1,-1,0,0};
boolean gameover = false;
void setup() {
  size(600,600);
  //size(w*bs, h0*bs);
  x.add(5);
  y.add(5);
  
}

void draw() {
  background (255);
  for(int i = 0 ; i < w; i++) line(i*bs, 0, i*bs, height);
  for (int i = 0 ; i < h; i++) line(0, i*bs, width, i*bs);
  for(int i = 0 ; i < x.size(); i++) {
    fill(0,255,0);
    rect(x.get(i) *bs, y.get(i)*bs,bs,bs);
  }
  if(!gameover) {
  fill(255,0,0);
  rect(applex*bs, appley*bs, bs, bs);
  if(frameCount%5==0) {
    x.add(0,x.get(0) + dx[dir]);
    y.add(0,y.get(0) + dy[dir]);
    if(x.get(0)==applex && y.get(0)==appley) {
      if(x.get(0) < 0 || y.get(0) >- w || y.get(0) >-h) gameover = true;
      for(int i = 1; 1 < x.size(); i++) if(x.get(0)==x.get(1) && y.get (0) == y.get(1)) gameover =true;
          applex = (int)random(0,w);
          appley = (int) random(0,h);
        }else{
          x.remove(x.size() -1);
          y.remove(y.size() -1);
        }
      }
    }else {
      fill(0);
      textSize(30);
      textAlign(CENTER);
      text("GAME OVER. press space", width/2, height/2);
     
       {
     if(keyPressed&&key==' ')  
      x.clear();
      y.clear();
      x.add(5); 
      y.add(5);
      gameover = false;
    }
  }
}

void keyPressed() {
  int newdir = key=='s' ? 0 : (key=='w' ? 1 : (key=='d' ? 2 : (key=='a' ? 3 : -1))); 
    
}

</script>
<canvas id="sketch" style="border: 1px solid black;"></canvas>
</body>
</html>